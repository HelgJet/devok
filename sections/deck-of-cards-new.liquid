<style>
.deck-of-cards-section .buttons {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

.deck-of-cards-section .step-btn {
  padding: 10px 20px;
  margin: 0 5px;
  cursor: pointer;
}

.deck-of-cards-section .step-content {
  display: none;
}

.deck-of-cards-section .step-content.active {
  display: block;
}

.deck-of-cards-section .cards-container {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}

.deck-of-cards-section .card {
  position: relative;
  width: 100px;
  height: 140px;
  cursor: pointer;
  perspective: 1000px;
}

.deck-of-cards-section .card img {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  transition: transform 0.6s;
}

.deck-of-cards-section .card .card-back {
  transform: rotateY(0deg);
}

.deck-of-cards-section .card .card-front {
  transform: rotateY(180deg);
}

.deck-of-cards-section .card.flip .card-back {
  transform: rotateY(180deg);
}

.deck-of-cards-section .card.flip .card-front {
  transform: rotateY(0deg);
}

.deck-of-cards-section .card .card-front.hidden {
  display: none;
}


</style>



<div id="deck-of-cards-section" class="deck-of-cards-section">
  <div class="buttons">
    <button class="step-btn" data-step="1">Step 1</button>
    <button class="step-btn" data-step="2" onclick="shuffleDeck()">Step 2: Shuffle and Show</button>
    <button class="step-btn" data-step="3">Step 3</button>
  </div>

  <div class="step-content step-1 active">
    <div class="card" onclick="flipCard(this)">
      <img src="https://deckofcardsapi.com/static/img/back.png" alt="Card back" class="card-back">
      <img src="" alt="Card front" class="card-front hidden">
    </div>
  </div>

  <div class="step-content step-2">
    <div class="cards-container" id="cards-container">
      <!-- Карти будуть вставлені сюди -->
    </div>
  </div>

  <div class="step-content step-3">
    <div class="card" onclick="flipCard(this)">
      <img src="https://deckofcardsapi.com/static/img/back.png" alt="Card back" class="card-back">
      <img src="" alt="Card front" class="card-front hidden">
    </div>
  </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
  const buttons = document.querySelectorAll('.step-btn');
  const stepContents = document.querySelectorAll('.step-content');

  // Перемикання між кроками
  buttons.forEach(button => {
    button.addEventListener('click', function() {
      const step = this.dataset.step;

      // Сховати всі кроки
      stepContents.forEach(content => {
        content.classList.remove('active');
      });

      // Показати вибраний крок
      document.querySelector(`.step-${step}`).classList.add('active');
    });
  });

  // Функція для перевертання карти
  window.flipCard = function(cardElement) {
    const cardBack = cardElement.querySelector('.card-back');
    const cardFront = cardElement.querySelector('.card-front');
    if (cardFront.classList.contains('hidden')) {
      cardFront.classList.remove('hidden');
      cardBack.classList.add('hidden');
    } else {
      cardFront.classList.add('hidden');
      cardBack.classList.remove('hidden');
    }
  };

  // Функція для перетасовки колоди та відображення карт
  window.shuffleDeck = function() {
    fetch('https://deckofcardsapi.com/api/deck/new/draw/?count=54')
      .then(response => response.json())
      .then(data => {
        const cardsContainer = document.getElementById('cards-container');
        cardsContainer.innerHTML = ''; // Очищення попередніх карток, якщо вони були

        data.cards.forEach(card => {
          const cardElement = document.createElement('div');
          cardElement.className = 'card';
          cardElement.setAttribute('onclick', 'flipCard(this)');
          cardElement.innerHTML = `
            <img src="https://deckofcardsapi.com/static/img/back.png" alt="Card back" class="card-back">
            <img src="${card.image}" alt="${card.value} of ${card.suit}" class="card-front hidden">
          `;
          cardsContainer.appendChild(cardElement);
        });
      })
      .catch(error => console.error('Error fetching cards:', error));
  };
});



</script>



{% schema %}
{
  "name": "Deck of Cards New Section",
  "settings": [],
  "presets": [
    {
      "name": "Deck of Cards New Section"
    }
  ]
}
{% endschema %}